/* 
 * Scroller
 * author: Marcin Dziewulski
 * web: http://www.jscraft.net
 * email: info@jscraft.net
 * license: http://www.jscraft.net/licensing.html
 */
(function(g){g.fn.scroller=function(n){var k={element:"a",direction:"horizontal",container:{name:"inside",easing:"easeOutBack",duration:800},options:{margin:-20,zoom:1.5,easing:["easeOutBack","easeOutBounce"],duration:[300,500]},onclick:function(){},onmouseover:function(){},onmouseout:function(){}},c=g.extend(!0,k,n);return this.each(function(){var f=g(this),j=f.find("."+c.container.name),d=f.find(c.element),e={init:function(){this._globals.init();this._container.init();this._position.init();this.events.init()}, _globals:{init:function(){k={w:f.width(),h:f.height()};I={w:d.width(),h:d.height()};DIR=c.direction;MW=I.w+c.options.margin;MH=I.h+c.options.margin}},_container:{init:function(){this.dimensions();this.center()},dimensions:function(){var a={};if("horizontal"==DIR)a.width=d.length*MW;else if("vertical"==DIR)a.height=d.length*MH;j.css(a);C={w:j.width(),h:j.height()}},center:function(){var a={},b=d.length;if("horizontal"==DIR)a.left=2*(-(b*MW)/b)-MW/2;else if("vertical"==DIR)a.top=2*(-(b*MH)/b);j.css(a)}}, _position:{init:function(){this.set()},set:function(){d.each(function(a){var b=g(this),c=b.find("img"),d=c.attr("src");if("horizontal"==DIR)var e={left:parseInt(MW*a),top:0};else"vertical"==DIR&&(e={left:0,top:parseInt(MH*a)});e.background="url("+d+") no-repeat center";c.hide();b.css(e)})}},_helper:{zoomin:function(){var a=c.options.zoom;return{animation:{width:I.w*a,height:I.h*a,marginLeft:(I.w-I.w*a)/2,marginTop:(I.h-I.h*a)/2},easing:c.options.easing[0],css:{zIndex:10},duration:c.options.duration[0]}}, zoomout:function(){return{animation:{width:I.w,height:I.h,marginLeft:0,marginTop:0},easing:c.options.easing[1],css:{zIndex:1},duration:c.options.duration[1]}},animate:function(a,b){a.css(b.css).stop(!0,!0).animate(b.animation,b.duration,b.easing)}},events:{init:function(){this.hover();this.click()},hover:function(){d.bind("mouseover mouseleave",function(a){var b=g(this),d=b.find("img");"mouseover"==a.type?(a=e._helper.zoomin(),c.onmouseover.call(this,b,d)):(a=e._helper.zoomout(),c.onmouseout.call(this, b,d));b.hasClass("active")||e._helper.animate(b,a)})},click:function(){d.click(function(){var a=g(this),b=a.find("img"),f=c.container,i=a.position(),l=i.top,m=i.left,i={};if("horizontal"==DIR)i.left=-m+k.w/2-MW/2;else if("vertical"==DIR)i.top=-l+k.h/2-MH/2;a.hasClass("active")||(l=e._helper.zoomin(),m=e._helper.zoomout(),e._helper.animate(d,m),e._helper.animate(a,l),d.removeClass("active"),a.addClass("active"));j.animate(i,f.duration,f.easing);c.onclick.call(this,a,b);return!1})}}}; e.init()})}})(jQuery);